{% extends "layout.html" %}
{% block title %}{{p.vname}}{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block masthead %}
    <h1 class="title">Partition: {{p.fqname}}</h1>
    <p>From: <a href="{{bundle_path(p.dataset.vid)}}">{{p.dataset.fqname}}</a></p>
{% endblock %}

{% block body %}
<div>

    <div>
        <h2>Tables</h2>
        <table class="table table-striped table-bordered table-condensed">
    <tr>
        <th>#</th>
        <th>Column</th>
        <th>Alt Name</th>
        <th>Type</th>
        <th>Size</th>
        <th>Description</th>
        <th>Vid</th>
        <th>Proto Id</th>
        <th>Unique Values</th>
        <th>Mean Val</th>

    </tr>
    {% for c in p.table.columns.values()|sort(attribute='sequence_id') -%}
    <tr>
        <td>{{c.sequence_id}}</td>
        <td>{{c.name}}</td>
        <td>{{c.altname}}</td>
        <td>{{c.datatype}}</td>
        <td>{{c.size}}</td>
        <td>{{c.description}}</td>
        <td>{%if c.sequence_id == 1 %}{{p.table.vid}}{% else %}{{c.vid}}{% endif %}</td>
        <td>{%if c.proto_vid %}
            <a href="{{proto_vid_path(c.proto_vid)}}">{{c.proto_vid}} ({{tc_obj(c.proto_vid).name}})</a>
            {%endif-%}

        </td>
        <td>
            {{p.colstats.get(c.id_).nuniques}}
        </td>
        <td>
            {{p.colstats.get(c.id_).p50}}
        </td>

    </tr>
    {% endfor %}
</table>
    </div>
</div>




{% endblock %}

