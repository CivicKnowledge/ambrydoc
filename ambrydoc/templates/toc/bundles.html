{% extends "layout.html" %}
{% block title %}Bundles{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block masthead %}
    <h1 class="title">Bundles</h1>
{% endblock %}

{% block body %}


<div>
    <table class="table table-hover table-condensed" >
    <tr>
        <th>#</th>
        <th>VID</th>
        <th>Source</th>
        <th>Dataset</th>
        <th>Name</th>
        <th>Versions</th>
        <th>Title</th>
    </tr>
    {% for b in l.list_bundles() -%}
        <tr class="bundle_toc">
            <td class="toc_n">{{loop.index}}</td>
            <td class="toc_vid"><a href="{{bundle_path(b)}}">{{b.identity.vid}}</a></td>
            <td class="toc_source">{{b.identity.source}}</td>
            <td class="toc_dataset">{{b.identity.dataset}}</td>
            <td class="toc_name">{{b.identity.name}}</td>
            <td class="toc_version">
                <ul  class="list-inline">
                    <li><a href="{{bundle_path(b)}}">{{b.identity.version}}</a></li>
                    {% if b.identity.data.other_versions -%}
                    {% for v in b.identity.data.other_versions -%}
                    <li><a href="{{bundle_path(v)}}">{{v.version}}</a></li>
                    {% endfor %}
                    {% endif -%}
                </ul>
            </td>

            <td class="toc_title" data-toggle="tooltip" data-placement="left"
                title="{{(b.metadata.about.summary or '')|truncate(length=600)}}">
                {{b.metadata.about.title or ''}}</td>
            </td>
        </tr>
    {% endfor %}
    </table>
</div>


{% endblock %}

{% block tailjs %}
    {{ super() }}
    <script>
    $('.toc_title').tooltip()
    </script>
{% endblock %}